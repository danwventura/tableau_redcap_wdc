"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.closeConnection = void 0;
var eps_logger_1 = require("../../../logging/eps-logger");
var app_global_1 = __importDefault(require("../../core/app-global"));
function closeConnection(_a) {
    var connectionId = _a.connectionId, reason = _a.reason;
    eps_logger_1.Logger.info("Client called close on connection '".concat(connectionId, "' with reason '").concat(reason, ".'"));
    if (app_global_1.default.connectionManager.hasConnection(connectionId)) {
        app_global_1.default.connectionManager.free(connectionId);
    }
    else {
        eps_logger_1.Logger.info("Client called close on connection '".concat(connectionId, "' that does not exist."));
    }
    return {
        status: 'closed',
    };
}
exports.closeConnection = closeConnection;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xvc2UtY29ubmVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9lcHMvbWFpbi9hcGkvZXBzLWhhbmRsZXJzL2Nsb3NlLWNvbm5lY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMERBQW9EO0FBQ3BELHFFQUE2QztBQVc3QyxTQUFnQixlQUFlLENBQUMsRUFBZ0Q7UUFBOUMsWUFBWSxrQkFBQSxFQUFFLE1BQU0sWUFBQTtJQUNwRCxtQkFBTSxDQUFDLElBQUksQ0FBQyw2Q0FBc0MsWUFBWSw0QkFBa0IsTUFBTSxPQUFJLENBQUMsQ0FBQTtJQUUzRixJQUFJLG9CQUFTLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQzNELG9CQUFTLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFBO0tBQy9DO1NBQU07UUFDTCxtQkFBTSxDQUFDLElBQUksQ0FBQyw2Q0FBc0MsWUFBWSwyQkFBd0IsQ0FBQyxDQUFBO0tBQ3hGO0lBRUQsT0FBTztRQUNMLE1BQU0sRUFBRSxRQUFRO0tBQ2pCLENBQUE7QUFDSCxDQUFDO0FBWkQsMENBWUMifQ==