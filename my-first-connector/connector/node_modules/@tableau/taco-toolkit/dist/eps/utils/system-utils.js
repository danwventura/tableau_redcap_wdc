"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.isCentOS = void 0;
var os_1 = __importDefault(require("os"));
var fs_1 = __importDefault(require("fs"));
var LINUX_OS_RELEASE_FILE = '/etc/os-release';
function isCentOS() {
    if (os_1.default.platform() === 'linux') {
        try {
            if (fs_1.default.existsSync(LINUX_OS_RELEASE_FILE)) {
                var osRelease = fs_1.default.readFileSync(LINUX_OS_RELEASE_FILE, 'utf-8');
                var match = osRelease.match(/^ID=(.*)$/m);
                if (match) {
                    var matchStr = match[1].trim().toLowerCase().replaceAll(/[\\"]/g, '');
                    return matchStr === 'centos';
                }
            }
        }
        catch (_error) {
            // In case file is missing, we assume that it is not a correct linux centos distribution
            return false;
        }
    }
    return false;
}
exports.isCentOS = isCentOS;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLXV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2Vwcy91dGlscy9zeXN0ZW0tdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMENBQW1CO0FBQ25CLDBDQUFtQjtBQUVuQixJQUFNLHFCQUFxQixHQUFHLGlCQUFpQixDQUFBO0FBRS9DLFNBQWdCLFFBQVE7SUFDdEIsSUFBSSxZQUFFLENBQUMsUUFBUSxFQUFFLEtBQUssT0FBTyxFQUFFO1FBQzdCLElBQUk7WUFDRixJQUFJLFlBQUUsQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUMsRUFBRTtnQkFDeEMsSUFBTSxTQUFTLEdBQUcsWUFBRSxDQUFDLFlBQVksQ0FBQyxxQkFBcUIsRUFBRSxPQUFPLENBQUMsQ0FBQTtnQkFDakUsSUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQTtnQkFDM0MsSUFBSSxLQUFLLEVBQUU7b0JBQ1QsSUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUE7b0JBQ3ZFLE9BQU8sUUFBUSxLQUFLLFFBQVEsQ0FBQTtpQkFDN0I7YUFDRjtTQUNGO1FBQUMsT0FBTyxNQUFNLEVBQUU7WUFDZix3RkFBd0Y7WUFDeEYsT0FBTyxLQUFLLENBQUE7U0FDYjtLQUNGO0lBQ0QsT0FBTyxLQUFLLENBQUE7QUFDZCxDQUFDO0FBakJELDRCQWlCQyJ9