"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseUrlAndQueryParams = void 0;
/**
 * Parse a valid URL string into an object that contains url (without query params) and
 * query param keys.
 *
 * The function is mainly for logging external URLs from connector, which may contains
 * sensitive data, e.g. credentials.
 */
function parseUrlAndQueryParams(urlStr) {
    var url = new URL(urlStr);
    return {
        url: url.href.replace(url.search, ''),
        queryParams: Array.from(url.searchParams.keys()),
    };
}
exports.parseUrlAndQueryParams = parseUrlAndQueryParams;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJsLXV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2Vwcy91dGlscy91cmwtdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7Ozs7OztHQU1HO0FBQ0gsU0FBZ0Isc0JBQXNCLENBQUMsTUFBYztJQUluRCxJQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUMzQixPQUFPO1FBQ0wsR0FBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1FBQ3JDLFdBQVcsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7S0FDakQsQ0FBQTtBQUNILENBQUM7QUFURCx3REFTQyJ9