"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.shouldBumpTableauMinVersion = void 0;
var tableau_product_1 = require("../../../cli/taco-commands/utils/tableau-product");
function shouldBumpTableauMinVersion(toolkitTableauVersion, connectorTableauVersion) {
    var connectorMajorVersion = getMajorVersionNumber(connectorTableauVersion);
    var toolkitMajorVersion = getMajorVersionNumber(toolkitTableauVersion);
    return connectorMajorVersion < toolkitMajorVersion;
}
exports.shouldBumpTableauMinVersion = shouldBumpTableauMinVersion;
function getMajorVersionNumber(value) {
    // assuming that Tableau major version are always two number (2022.3)
    var majorVersion = Number((0, tableau_product_1.getTableauMajorVersion)(value));
    if (isNaN(majorVersion)) {
        throw new Error("Found an unrecognized Tableau version ".concat(value));
    }
    return majorVersion;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jbGkvdGFjby1zY3JpcHRzL2J1aWxkL3ZhbGlkYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0ZBQXlGO0FBRXpGLFNBQWdCLDJCQUEyQixDQUFDLHFCQUE2QixFQUFFLHVCQUErQjtJQUN4RyxJQUFNLHFCQUFxQixHQUFHLHFCQUFxQixDQUFDLHVCQUF1QixDQUFDLENBQUE7SUFDNUUsSUFBTSxtQkFBbUIsR0FBRyxxQkFBcUIsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQ3hFLE9BQU8scUJBQXFCLEdBQUcsbUJBQW1CLENBQUE7QUFDcEQsQ0FBQztBQUpELGtFQUlDO0FBRUQsU0FBUyxxQkFBcUIsQ0FBQyxLQUFhO0lBQzFDLHFFQUFxRTtJQUNyRSxJQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsSUFBQSx3Q0FBc0IsRUFBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO0lBQzFELElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQ3ZCLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0RBQXlDLEtBQUssQ0FBRSxDQUFDLENBQUE7S0FDbEU7SUFDRCxPQUFPLFlBQVksQ0FBQTtBQUNyQixDQUFDIn0=