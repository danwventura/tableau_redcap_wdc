"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Connector = void 0;
var toastify_js_1 = __importDefault(require("toastify-js"));
var ajax = __importStar(require("../../shared/app-transport/ajax"));
var auth_credentials_1 = require("../../shared/auth-credentials");
var caller_type_1 = require("../../shared/enums/caller-type");
var log_level_1 = require("../../shared/logger/log-level");
var handler_input_1 = require("../../shared/types/handler-input");
var permission_1 = require("../../shared/types/permission");
var app_logger_1 = require("./app-logger");
var onInitSuccessDefault = function (_connector) {
    // do nothing
};
var onInitFailureDefault = function (_connector, err) {
    console.error(err);
    (0, toastify_js_1.default)({
        text: "".concat(err),
        duration: -1,
        newWindow: true,
        close: true,
        gravity: 'top',
        position: 'right',
        stopOnFocus: true,
        style: {
            color: 'white',
            background: 'red',
        },
    }).showToast();
};
/**
 * The Connector class is a facade class used to talk with the eps main server.
 */
var Connector = /** @class */ (function () {
    function Connector(onInitSuccess, onInitFailure) {
        if (onInitSuccess === void 0) { onInitSuccess = onInitSuccessDefault; }
        if (onInitFailure === void 0) { onInitFailure = onInitFailureDefault; }
        var _this = this;
        this.onInitSuccess = onInitSuccess;
        this.onInitFailure = onInitFailure;
        this.isInsideIframe = false;
        this.isInitialized = false;
        this.permission = { api: {} };
        this.initTimeout = setTimeout(function () {
            if (!_this.isInitialized) {
                _this.onInitFailure(_this, new Error('There was a timeout waiting for the Connector object to initialize.'));
            }
        }, 15000);
        var queryString = window.location.search;
        if (queryString.length === 0) {
            this.isInsideIframe = true;
            window.addEventListener('message', function (event) {
                console.log('event.data.sender', event.data.sender);
                console.log('event.data', event.data);
                // TODO: validate options!
                var connectorInput = event.data;
                _this.initialize(connectorInput);
            });
        }
        else {
            // TODO: the function should type narrow into ConnectorInput
            var connectorInput = urlParamsToObject(queryString);
            this.initialize(connectorInput);
        }
    }
    Connector.prototype.initialize = function (connectorInput) {
        return __awaiter(this, void 0, void 0, function () {
            var serverUrl, connectionData, secrets, epsHeaders, parsedData, permissionResponse, permission;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        validateConnectorInput(connectorInput);
                        this.options = getOptionsFromInput(connectorInput);
                        serverUrl = connectorInput.serverUrl, connectionData = connectorInput.connectionData, secrets = connectorInput.secrets;
                        epsHeaders = getEpsHeaders(this.options);
                        app_logger_1.AppLogger.init({
                            level: log_level_1.LogLevel.INFO,
                            endpoint: "".concat(serverUrl, "/log"),
                            headers: epsHeaders,
                        });
                        if (secrets) {
                            this.secrets = parseSecrets(secrets);
                        }
                        if (connectionData) {
                            parsedData = parseConnectionData(connectionData);
                            if (parsedData) {
                                this.handlerInputs = parsedData.handlerInputs;
                                this.appSnapshot = parsedData.appSnapshot;
                            }
                        }
                        if (!this.isInsideIframe) {
                            openWebSocket(connectorInput);
                        }
                        return [4 /*yield*/, ajax.get("".concat(serverUrl, "/permission"), { headers: epsHeaders })];
                    case 1:
                        permissionResponse = _a.sent();
                        permission = permissionResponse.body;
                        console.log("Got permission from server API: ".concat(JSON.stringify(permission)));
                        this.permission = permission;
                        this.initComplete();
                        return [2 /*return*/];
                }
            });
        });
    };
    Connector.prototype.initComplete = function () {
        clearTimeout(this.initTimeout);
        this.isInitialized = true;
        this.onInitSuccess(this);
    };
    /**
     * Send a GET request.
     *
     * By default, it sends the request directly to the endpoint.
     * When requestOptions.bypassCorsPolicy is set, the request will be forwarded
     * to EPS. This can be used when a server has certain CORS policy. When EPS
     * receives the forwarded request, it will validate the connector's permission
     * settings defined in the connector.json.
     *
     * The function also validates the connector's permission settings on the
     * client.
     */
    Connector.prototype.get = function (url, requestOptions) {
        return __awaiter(this, void 0, void 0, function () {
            var headers, bypassCorsPolicy;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        assertConnectorOptions(this.options);
                        this.validateApiPermission(url, 'GET');
                        headers = requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.headers;
                        bypassCorsPolicy = requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.bypassCorsPolicy;
                        if (!bypassCorsPolicy) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.forwardRequest(this.options.serverUrl, {
                                method: 'GET',
                                url: url,
                                headers: headers,
                            })];
                    case 1: return [2 /*return*/, _a.sent()];
                    case 2: return [4 /*yield*/, ajax.get(url, { headers: headers })];
                    case 3: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * Send a POST request.
     *
     * By default, it sends the request directly to the endpoint.
     * When requestOptions.bypassCorsPolicy is set, the request will be forwarded
     * to EPS. This can be used when a server has certain CORS policy. When EPS
     * receives the forwarded request, it will validate the connector's permission
     * settings defined in the connector.json.
     *
     * The function also validates the connector's permission settings on the
     * client.
     */
    Connector.prototype.post = function (url, body, requestOptions) {
        return __awaiter(this, void 0, void 0, function () {
            var headers, bypassCorsPolicy;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        assertConnectorOptions(this.options);
                        this.validateApiPermission(url, 'POST');
                        headers = requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.headers;
                        bypassCorsPolicy = requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.bypassCorsPolicy;
                        if (!bypassCorsPolicy) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.forwardRequest(this.options.serverUrl, {
                                method: 'POST',
                                url: url,
                                headers: headers,
                                body: body,
                            })];
                    case 1: return [2 /*return*/, _a.sent()];
                    case 2: return [4 /*yield*/, ajax.post(url, body, { headers: headers })];
                    case 3: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Connector.prototype.getIframeMessage = function () {
        assertConnectorOptions(this.options);
        assertHandlerInputs(this.handlerInputs);
        return {
            type: 'eps-submit',
            connectionData: getConnectionData(this.appSnapshot, this.handlerInputs),
            // currently, monolith expects all secret related infos are sent with
            // this property for logging encryption
            secrets: this.secrets,
            headers: getEpsHeaders(this.options),
            submissionUrl: getSubmissionUrl(this.options),
        };
    };
    Connector.prototype.submit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var message, headers, submissionUrl, body;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        assertConnectorOptions(this.options);
                        assertHandlerInputs(this.handlerInputs);
                        app_logger_1.AppLogger.flush();
                        if (!this.isInsideIframe) return [3 /*break*/, 1];
                        message = this.getIframeMessage();
                        window.parent.postMessage(message, '*'); //http://localhost:8080
                        return [3 /*break*/, 3];
                    case 1:
                        headers = getRequestHeaders(this.options, this.secrets);
                        submissionUrl = getSubmissionUrl(this.options);
                        body = getConnectionData(this.appSnapshot, this.handlerInputs);
                        return [4 /*yield*/, ajax.post(submissionUrl, body, { headers: headers })];
                    case 2:
                        _a.sent();
                        closeWindow(this.options.callerType);
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    Connector.prototype.validateApiPermission = function (url, method) {
        if (!permission_1.PermissionChecker.checkApiPermission(this.permission.api, url, method)) {
            throw new Error("This app does not have permission to make ".concat(method, " request to ").concat(url));
        }
    };
    Connector.prototype.forwardRequest = function (serverUrl, requestOptions) {
        return __awaiter(this, void 0, void 0, function () {
            var method, headers, url, forwardedRequest, response;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        assertConnectorOptions(this.options);
                        method = requestOptions.method, headers = requestOptions.headers, url = requestOptions.url;
                        forwardedRequest = {
                            method: method,
                            url: url,
                            headers: headers,
                        };
                        if (forwardedRequest.method === 'POST') {
                            forwardedRequest.body = requestOptions.body;
                        }
                        return [4 /*yield*/, ajax.post(serverUrl, forwardedRequest, {
                                headers: getEpsHeaders(this.options),
                            })
                            // on the eps side, body is a plain object typed as AjaxResponse
                        ];
                    case 1:
                        response = _a.sent();
                        // on the eps side, body is a plain object typed as AjaxResponse
                        return [2 /*return*/, response.body];
                }
            });
        });
    };
    Connector.prototype.cancel = function () {
        assertConnectorOptions(this.options);
        app_logger_1.AppLogger.flush();
        if (this.isInsideIframe) {
            var message = { type: 'cancel' };
            window.parent.postMessage(message, '*'); //http://localhost:8080
        }
        else {
            closeWindow(this.options.callerType);
        }
    };
    Object.defineProperty(Connector.prototype, "oAuthCredentials", {
        get: function () {
            return new auth_credentials_1.OAuthCredentials(this.secrets || {});
        },
        enumerable: false,
        configurable: true
    });
    return Connector;
}());
exports.Connector = Connector;
function openWebSocket(connectorInput) {
    var callerType = connectorInput.callerType, browserWatcherUrl = connectorInput.browserWatcherUrl, connectionId = connectorInput.connectionId;
    if (callerType === caller_type_1.CallerType.appdev) {
        return;
    }
    var browserWatcherSocket = new WebSocket(browserWatcherUrl);
    browserWatcherSocket.onopen = function () {
        console.log('WebSocket Client Connected');
        browserWatcherSocket.send(JSON.stringify({ connectionId: connectionId }));
    };
}
function closeWindow(callerType) {
    if (callerType === caller_type_1.CallerType.appdev) {
        return;
    }
    // This will cause the web socket connection to disconnect and the
    // server will clean up the process, etc.
    window.close();
}
function getOptionsFromInput(input) {
    var connectionId = input.connectionId, serverUrl = input.serverUrl, callerId = input.callerId, epsInstanceId = input.epsInstanceId, connectorClass = input.connectorClass, tacoPath = input.tacoPath, callerType = input.callerType;
    return {
        connectionId: connectionId,
        serverUrl: serverUrl,
        callerId: callerId,
        epsInstanceId: epsInstanceId,
        connectorClass: connectorClass,
        tacoPath: tacoPath,
        callerType: callerType,
    };
}
function assertConnectorOptions(options) {
    if (!options) {
        throw new Error('The connector.options are not initialized.');
    }
}
function assertHandlerInputs(handlerInputs) {
    var e_1, _a;
    if (!Array.isArray(handlerInputs) || handlerInputs.length === 0) {
        throw new Error('Cannot call submit without any handlerInputs.');
    }
    var nameSet = new Set();
    try {
        for (var handlerInputs_1 = __values(handlerInputs), handlerInputs_1_1 = handlerInputs_1.next(); !handlerInputs_1_1.done; handlerInputs_1_1 = handlerInputs_1.next()) {
            var handlerInput = handlerInputs_1_1.value;
            // Validate handler input is of valid shape
            if (!(0, handler_input_1.isValidHandlerInput)(handlerInput)) {
                throw new Error("Handler input is not valid. ".concat(JSON.stringify(handlerInput)));
            }
            // for filebased handler input validate that names are unique
            if ((0, handler_input_1.isFileBasedHandlerInput)(handlerInput)) {
                var name_1 = handlerInput.name;
                if (nameSet.has(name_1)) {
                    throw new Error("Handler input name property value \"".concat(name_1, "\" is not unique."));
                }
                else {
                    nameSet.add(name_1);
                }
            }
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (handlerInputs_1_1 && !handlerInputs_1_1.done && (_a = handlerInputs_1.return)) _a.call(handlerInputs_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
}
function getSubmissionUrl(options) {
    var connectorClass = options.connectorClass, serverUrl = options.serverUrl;
    return "".concat(serverUrl, "/extract/").concat(connectorClass);
}
function getEpsHeaders(options) {
    return {
        'caller-id': options.callerId,
        'connection-id': options.connectionId,
        'eps-instance-id': options.epsInstanceId,
        'plugin-path': options.tacoPath,
        'connector-class': options.connectorClass,
    };
}
function getConnectionData(appSnapshot, handlerInputs) {
    return {
        handlerInputs: handlerInputs,
        appSnapshot: appSnapshot,
    };
}
function parseSecrets(secretsInput) {
    if (!secretsInput || typeof secretsInput !== 'string') {
        console.warn("Invalid input type for secrets: ".concat(typeof secretsInput, ". Skip parsing secrets."));
        return;
    }
    try {
        var secrets = JSON.parse(secretsInput);
        if (Object.keys(secrets).length > 0) {
            return secrets;
        }
    }
    catch (error) {
        console.error('Secrets exist, but could not be parsed.'); // Note: don't log error
    }
}
function parseConnectionData(connectionDataInput) {
    var _a;
    if (typeof connectionDataInput !== 'string' || connectionDataInput.length === 0) {
        console.warn("Invalid input type for connection data: ".concat(typeof connectionDataInput, ". Skip parsing connection data."));
        return;
    }
    try {
        var connectionData = JSON.parse(connectionDataInput);
        var appSnapshot = (_a = connectionData.appSnapshot) !== null && _a !== void 0 ? _a : null;
        var handlerInputs = connectionData.handlerInputs;
        if (!Array.isArray(handlerInputs)) {
            if (handlerInputs !== undefined) {
                console.warn("handlerInputs must be an array, but the found type is ".concat(typeof handlerInputs, ". Ignore the handlerInputs."));
            }
            return {
                handlerInputs: [],
                appSnapshot: appSnapshot,
            };
        }
        return {
            handlerInputs: handlerInputs,
            appSnapshot: appSnapshot,
        };
    }
    catch (error) {
        console.error("Could not parse connectionData: ".concat(error, " with input ").concat(connectionDataInput));
    }
}
// TODO: we should do type narrowing with this function
function validateConnectorInput(input) {
    // Just log for now. Do not throw error.
    var requiredKeys;
    if (caller_type_1.CallerType.vizQLServer === input.callerType) {
        requiredKeys = [
            // Other field are provided to eps requests, outside and after the iframe.
            'callerType',
            'connectionId',
            'secrets',
            'serverUrl',
        ];
    }
    else {
        requiredKeys = [
            'browserWatcherUrl',
            'callerId',
            'connectorClass',
            'connectionId',
            'epsInstanceId',
            'serverUrl',
            'tacoPath',
        ];
    }
    var missingKeys = requiredKeys.filter(function (k) { return input[k] === undefined; });
    if (missingKeys.length > 0) {
        console.error("These keys are missing from connector input: ".concat(missingKeys.join(', ')));
        return false;
    }
    return true;
}
function urlParamsToObject(serializedParams) {
    var entries = new URLSearchParams(serializedParams);
    var result = {};
    entries.forEach(function (value, key) {
        result[key] = value;
    });
    return result;
}
function getRequestHeaders(options, secrets) {
    var headers = getEpsHeaders(options);
    if (secrets) {
        headers.secrets = JSON.stringify(secrets);
    }
    // in case of oAuth monolith will also send access-token and refresh token in the request headers directly,
    // the /extract api will expect oauth access and refresh token in the headers
    var credential = new auth_credentials_1.OAuthCredentials(secrets);
    if (typeof credential.accessToken === 'string') {
        headers['access-token'] = credential.accessToken;
    }
    //TODO (W-14199268): for quickbooks need realm id in secrets, will be removed once we support arbitrary oauth tokens
    if (secrets && typeof secrets.realmid === 'string') {
        headers['realmid'] = secrets.realmid;
    }
    return headers;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nkay9hcHAvY29ubmVjdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0REFBa0M7QUFFbEMsb0VBQXVEO0FBQ3ZELGtFQUFnRTtBQUNoRSw4REFBMkQ7QUFDM0QsMkRBQXdEO0FBR3hELGtFQUE2RztBQUU3Ryw0REFBNkU7QUFFN0UsMkNBQXdDO0FBR3hDLElBQU0sb0JBQW9CLEdBQUcsVUFBQyxVQUFxQjtJQUNqRCxhQUFhO0FBQ2YsQ0FBQyxDQUFBO0FBRUQsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLFVBQXFCLEVBQUUsR0FBVTtJQUM3RCxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ2xCLElBQUEscUJBQVEsRUFBQztRQUNQLElBQUksRUFBRSxVQUFHLEdBQUcsQ0FBRTtRQUNkLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDWixTQUFTLEVBQUUsSUFBSTtRQUNmLEtBQUssRUFBRSxJQUFJO1FBQ1gsT0FBTyxFQUFFLEtBQUs7UUFDZCxRQUFRLEVBQUUsT0FBTztRQUNqQixXQUFXLEVBQUUsSUFBSTtRQUNqQixLQUFLLEVBQUU7WUFDTCxLQUFLLEVBQUUsT0FBTztZQUNkLFVBQVUsRUFBRSxLQUFLO1NBQ2xCO0tBQ0YsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFBO0FBQ2hCLENBQUMsQ0FBQTtBQUVEOztHQUVHO0FBQ0g7SUF1QkUsbUJBQ1UsYUFBb0UsRUFDcEUsYUFBZ0Y7UUFEaEYsOEJBQUEsRUFBQSxvQ0FBb0U7UUFDcEUsOEJBQUEsRUFBQSxvQ0FBZ0Y7UUFGMUYsaUJBMkJDO1FBMUJTLGtCQUFhLEdBQWIsYUFBYSxDQUF1RDtRQUNwRSxrQkFBYSxHQUFiLGFBQWEsQ0FBbUU7UUFQbEYs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